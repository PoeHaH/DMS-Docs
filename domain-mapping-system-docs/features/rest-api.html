<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REST API - Domain Mapping System Docs</title>
    <meta name="description" content="REST API">
    <link rel="stylesheet" href="../../assets/css/styles.css">
</head>
<body>
    <div class="docs-container">
        <!-- Top Bar -->
        <header class="top-bar">
            <div class="logo">
                <a href="/">Domain Mapping System Docs</a>
            </div>
            <div class="search-container">
                <input type="text" id="search-input" placeholder="Search documentation..." autocomplete="off">
                <div id="search-results" class="search-results"></div>
            </div>
        </header>

        <!-- Main Layout -->
        <div class="main-layout">
            <!-- Left Sidebar: Navigation -->
            <aside class="sidebar sidebar-left">
                <nav class="navigation" id="navigation">
                    <ul class="nav-tree"><li class="nav-item" data-depth="1"><a href="/domain-mapping-system-docs/overview-how-to-map-domains.html">Overview How to Map Domains</a></li><li class="nav-item" data-depth="1"><a href="/domain-mapping-system-docs/video-guides.html">Video Guides</a></li><li class="nav-item" data-depth="1"><a href="/domain-mapping-system-docs/troubleshooting-guide.html">Troubleshooting Guide</a></li><li class="nav-item has-children" data-depth="1"><span class="nav-toggle"></span><a href="/domain-mapping-system-docs/requirements.html">Requirements</a><ul class="nav-children"><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/requirements/configuring-dns-records.html">Configuring DNS Records</a></li><li class="nav-item has-children" data-depth="2"><span class="nav-toggle"></span><a href="/domain-mapping-system-docs/requirements/server-configuration.html">Server Configuration</a><ul class="nav-children"><li class="nav-item" data-depth="3"><a href="/domain-mapping-system-docs/requirements/server-configuration/localhost-configuration.html">Localhost Configuration</a></li></ul></li></ul></li><li class="nav-item has-children expanded" data-depth="1"><span class="nav-toggle"></span><a href="/domain-mapping-system-docs/features.html">Features</a><ul class="nav-children"><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/features/domain-mapping.html">Domain Mapping</a></li><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/features/creating-microsites-multisite-alternative.html">Creating Microsites - Multisite Alternative</a></li><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/features/global-domain-mapping.html">Global Domain Mapping</a></li><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/features/global-archive-category-mapping.html">Global Archive Category Mapping</a></li><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/features/global-parent-page-mapping.html">Global Parent Page Mapping</a></li><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/features/global-product-mapping-for-woocommerce.html">Global Product Mapping for WooCommerce</a></li><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/features/subdomain-mapping.html">Subdomain Mapping</a></li><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/features/subdirectory-mapping.html">Subdirectory Mapping</a></li><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/features/redirect-site-visitors-to-mapped-domains.html">Redirect Site Visitors to Mapped Domains</a></li><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/features/url-rewriting.html">URL Rewriting</a></li><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/features/query-string-parameters.html">Query String Parameters</a></li><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/features/language-per-domain.html">Language per Domain</a></li><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/features/favicon-per-domain.html">Favicon per Domain</a></li><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/features/multisite-integration.html">Multisite Integration</a></li><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/features/custom-head-and-body-code-per-domain.html">Custom head and body Code per Domain</a></li><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/features/menu-per-domain.html">Menu per Domain</a></li><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/features/404-handling.html">404 Handling</a></li><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/features/alias-domain-authentication.html">Alias Domain Authentication</a></li><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/features/subdomain-authentication.html">Subdomain Authentication</a></li><li class="nav-item active has-children expanded" data-depth="2"><span class="nav-toggle"></span><a href="/domain-mapping-system-docs/features/rest-api.html">REST API</a><ul class="nav-children"><li class="nav-item" data-depth="3"><a href="/domain-mapping-system-docs/features/rest-api/filters-and-actions.html">Filters and Actions</a></li></ul></li></ul></li><li class="nav-item has-children" data-depth="1"><span class="nav-toggle"></span><a href="/domain-mapping-system-docs/integrations-compatibility.html">Integrations &amp; Compatibility</a><ul class="nav-children"><li class="nav-item has-children" data-depth="2"><span class="nav-toggle"></span><a href="/domain-mapping-system-docs/integrations-compatibility/wordpress-plugins.html">WordPress Plugins</a><ul class="nav-children"><li class="nav-item" data-depth="3"><a href="/domain-mapping-system-docs/integrations-compatibility/wordpress-plugins/yoast-seo.html">Yoast SEO</a></li><li class="nav-item" data-depth="3"><a href="/domain-mapping-system-docs/integrations-compatibility/wordpress-plugins/polylang.html">PolyLang</a></li><li class="nav-item" data-depth="3"><a href="/domain-mapping-system-docs/integrations-compatibility/wordpress-plugins/w3-total-cache.html">W3 Total Cache</a></li><li class="nav-item" data-depth="3"><a href="/domain-mapping-system-docs/integrations-compatibility/wordpress-plugins/wp-rocket.html">WP Rocket</a></li><li class="nav-item" data-depth="3"><a href="/domain-mapping-system-docs/integrations-compatibility/wordpress-plugins/multiple-domain-mapping.html">Multiple Domain Mapping</a></li><li class="nav-item" data-depth="3"><a href="/domain-mapping-system-docs/integrations-compatibility/wordpress-plugins/wpml.html">WPML</a></li><li class="nav-item" data-depth="3"><a href="/domain-mapping-system-docs/integrations-compatibility/wordpress-plugins/borlabs-cookie.html">Borlabs Cookie</a></li></ul></li><li class="nav-item has-children" data-depth="2"><span class="nav-toggle"></span><a href="/domain-mapping-system-docs/integrations-compatibility/supported-hosting-platforms.html">Supported Hosting Platforms</a><ul class="nav-children"><li class="nav-item" data-depth="3"><a href="/domain-mapping-system-docs/integrations-compatibility/supported-hosting-platforms/how-do-i-set-up-a-domain-alias-with-cpanel.html">How do I set up a Domain Alias with cPanel</a></li><li class="nav-item" data-depth="3"><a href="/domain-mapping-system-docs/integrations-compatibility/supported-hosting-platforms/how-do-i-set-up-a-domain-alias-with-vultr-hosting.html">How do I set up a Domain Alias with VULTR hosting</a></li><li class="nav-item" data-depth="3"><a href="/domain-mapping-system-docs/integrations-compatibility/supported-hosting-platforms/how-do-i-set-up-a-domain-alias-with-plesk.html">How do I set up a domain Alias with Plesk</a></li><li class="nav-item" data-depth="3"><a href="/domain-mapping-system-docs/integrations-compatibility/supported-hosting-platforms/how-do-i-create-a-domain-pointer-in-directadmin.html">How do I create a Domain Pointer in DirectAdmin</a></li></ul></li></ul></li><li class="nav-item has-children" data-depth="1"><span class="nav-toggle"></span><a href="/domain-mapping-system-docs/common-issues.html">Common Issues</a><ul class="nav-children"><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/common-issues/caching.html">Caching</a></li><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/common-issues/ssl-for-multiple-domains.html">SSL for Multiple Domains</a></li><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/common-issues/cors-policy.html">CORS Policy</a></li><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/common-issues/known-plugin-conflicts.html">Known Plugin Conflicts</a></li></ul></li><li class="nav-item has-children" data-depth="1"><span class="nav-toggle"></span><a href="/domain-mapping-system-docs/faqs.html">FAQs</a><ul class="nav-children"><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/faqs/what-are-dns-records.html">What are DNS Records</a></li><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/faqs/what-is-a-domain-alias.html">What is a domain Alias</a></li><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/faqs/why-isn-t-my-domain-secure.html">Why isn&#039;t my domain secure</a></li><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/faqs/is-the-htaccess-file-modified.html">Is the htaccess file modified</a></li><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/faqs/why-is-a-directory-created-in-the-mu-plugins-folde.html">Why is a directory created in the mu-plugins folde</a></li></ul></li><li class="nav-item has-children" data-depth="1"><span class="nav-toggle"></span><a href="/domain-mapping-system-docs/misc.html">Misc</a><ul class="nav-children"><li class="nav-item" data-depth="2"><a href="/domain-mapping-system-docs/misc/pagination.html">Pagination</a></li></ul></li><li class="nav-item" data-depth="1"><a href="/domain-mapping-system-docs/changelog.html">Changelog</a></li></ul>
                </nav>
            </aside>

            <!-- Content Area -->
            <main class="content">
                <article class="markdown-content">
                    <h1 id="rest-api">REST API</h1>
<p>This documentation covers all available endpoints for managing domains and their associated mapping values.</p>
<aside>
<img src="https://www.notion.so/icons/info-alternate_blue.svg" alt="https://www.notion.so/icons/info-alternate_blue.svg" width="40px" />

You can also view this documentation in [Postman](https://documenter.getpostman.com/view/2028742/2sAY4siPVS), but be sure to review the important notes and authentication flow details below.

</aside>
<aside>
<img src="https://www.notion.so/icons/report_orange.svg" alt="https://www.notion.so/icons/report_orange.svg" width="40px" />

Important notes:

- All requests must be authenticated using the provided credentials.
- Ensure that proper permissions are set for users accessing the API.
- For testing, it is recommended to use Postman or similar tools to make authenticated requests.
</aside>
<h3 id="about-authentication-flow"><strong>About Authentication Flow</strong></h3>
<p>The REST API follows a multi-layered approach for authentication:</p>
<ol>
<li><strong>Check if the User is Logged In</strong>:
<ul>
<li>If a user is logged in, the system first verifies a <strong>nonce</strong>. For the nonce to be valid, the user must have the <strong>admin role</strong>.</li>
</ul></li>
<li><strong>If the User is Not Logged In</strong>:
<ul>
<li>The system requires <strong>application password authentication</strong>. It checks if a user with the provided username and password exists and has the <strong>admin role</strong>. If so, the user is authenticated.</li>
</ul></li>
</ol>
<p>This approach provides flexibility:</p>
<ul>
<li><strong>Internal integrators</strong> can authenticate using either a <strong>nonce</strong> or <strong>application passwords</strong>.</li>
<li><strong>External integrators</strong> are restricted to using <strong>application passwords</strong>.</li>
</ul>
<h3 id="rest-api-documentation"><strong>Rest API Documentation</strong></h3>
<h3 id="base-url"><strong>Base URL</strong></h3>
<pre><code>{{base_url}}/wp-json/dms/v1/</code></pre>
<p>Replace <code>{{base_url}}</code> with your WordPress installation URL.</p>
<hr />
<h3 id="authentication"><strong>Authentication</strong></h3>
<p>The DMS API uses basic authentication. Include the following credentials in each request:</p>
<ul>
<li><strong>Username</strong>: <code>TestUser</code></li>
<li><strong>Password</strong>: <code>DaEO Wj4v hl3Y 4ZZy 5Lxu E4GF</code></li>
</ul>
<p>Ensure you keep these credentials secure and change them for production environments.</p>
<hr />
<h3 id="endpoints"><strong>Endpoints</strong></h3>
<h3 id="1-mappings"><strong>1. Mappings</strong></h3>
<p><strong>GET All Mappings</strong></p>
<p>Fetch all mappings.</p>
<ul>
<li><strong>Endpoint</strong>: <code>{{base_url}}/wp-json/dms/v1/mappings/</code></li>
<li><strong>Method</strong>: <code>GET</code></li>
<li><strong>Query Parameters</strong>:
<ul>
<li><code>include[]=mapping_values</code> (optional): Includes mapping values.</li>
<li><code>include[]=mapping_metas</code> (optional): Includes mapping metadata.</li>
</ul></li>
</ul>
<p><strong>GET Single Mapping</strong></p>
<p>Fetch details for a specific mapping by ID.</p>
<ul>
<li><strong>Endpoint</strong>: <code>{{base_url}}/wp-json/dms/v1/mappings/{id}</code></li>
<li><strong>Method</strong>: <code>GET</code></li>
<li><strong>Path Parameter</strong>:
<ul>
<li><code>id</code> (integer): ID of the mapping.</li>
</ul></li>
</ul>
<p><strong>POST Create Mapping</strong></p>
<p>Create a new mapping.</p>
<ul>
<li><strong>Endpoint</strong>: <code>{{base_url}}/wp-json/dms/v1/mappings/</code></li>
<li><strong>Method</strong>: <code>POST</code></li>
<li>
<p><strong>Body</strong>:</p>
<pre><code>{
  "host": "dev5.dms.local",
  "path": "path",
  "attachment_id": "",
  "custom_html": "&lt;meta content='metaContent' name='metaName'&gt;"
}</code></pre>
</li>
</ul>
<p><strong>PUT Update Mapping</strong></p>
<p>Update an existing mapping.</p>
<ul>
<li><strong>Endpoint</strong>: <code>{{base_url}}/wp-json/dms/v1/mappings/{id}</code></li>
<li><strong>Method</strong>: <code>PUT</code></li>
<li>
<p><strong>Body</strong>:</p>
<pre><code>{
  "host": "dev1.dms.local",
  "path": "path1/path2/path3",
  "attachment_id": 123456,
  "custom_html": "&lt;script&gt;"
}</code></pre>
</li>
</ul>
<p><strong>DELETE Mapping</strong></p>
<p>Delete a mapping.</p>
<ul>
<li><strong>Endpoint</strong>: <code>{{base_url}}/wp-json/dms/v1/mappings/{id}</code></li>
<li><strong>Method</strong>: <code>DELETE</code></li>
</ul>
<hr />
<h3 id="2-mapping-values"><strong>2. Mapping Values</strong></h3>
<p><strong>GET All Mapping Values</strong></p>
<p>Fetch all values for a specific mapping.</p>
<ul>
<li><strong>Endpoint</strong>: <code>{{base_url}}/wp-json/dms/v1/mappings/{id}/values</code></li>
<li><strong>Method</strong>: <code>GET</code></li>
<li><strong>Path Parameter</strong>:
<ul>
<li><code>id</code> (integer): ID of the mapping.</li>
</ul></li>
<li><strong>Query Parameters</strong>:
<ul>
<li><code>include[]=object</code> (optional): Includes the associated object.</li>
<li><code>include[]=mapped_link</code> (optional): Includes the mapped link.</li>
</ul></li>
</ul>
<p><strong>POST Create Mapping Value</strong></p>
<p>Create a new mapping value.</p>
<ul>
<li><strong>Endpoint</strong>: <code>{{base_url}}/wp-json/dms/v1/mappings/{id}/values/</code></li>
<li><strong>Method</strong>: <code>POST</code></li>
<li>
<p><strong>Body</strong>:</p>
<pre><code>{
  "object_type": "post",
  "object_id": 55,
  "primary": 1,
  "mapping_id": 26
}</code></pre>
</li>
</ul>
<p><strong>PUT Update Mapping Value</strong></p>
<p>Update an existing mapping value.</p>
<ul>
<li><strong>Endpoint</strong>: <code>{{base_url}}/wp-json/dms/v1/mapping_values/{value_id}</code></li>
<li><strong>Method</strong>: <code>PUT</code></li>
<li>
<p><strong>Body</strong>:</p>
<pre><code>{
  "mapping_id": 2,
  "object_id": null,
  "object_type": "cpt",
  "primary": 0
}</code></pre>
</li>
</ul>
<p><strong>DELETE Mapping Value</strong></p>
<p>Delete a mapping value.</p>
<ul>
<li><strong>Endpoint</strong>: <code>{{base_url}}/wp-json/dms/v1/mapping_values/{value_id}</code></li>
<li><strong>Method</strong>: <code>DELETE</code></li>
</ul>
<hr />
<h3 id="3-batch-operations"><strong>3. Batch Operations</strong></h3>
<p><strong>POST Batch Operation for Mappings</strong></p>
<p>Perform batch operations on mappings (create, update, delete).</p>
<ul>
<li><strong>Endpoint</strong>: <code>{{base_url}}/wp-json/dms/v1/mappings/batch</code></li>
<li><strong>Method</strong>: <code>POST</code></li>
<li>
<p><strong>Body</strong>:</p>
<pre><code>[
  {
    "method": "create",
    "data": [
      {
        "host": "dev8.dms.local",
        "path": "",
        "attachment_id": 123456,
        "custom_html": ""
      }
    ]
  },
  {
    "method": "update",
    "data": [
      {
        "id": 30,
        "host": "dev2.dms.local",
        "path": "updated_path",
        "attachment_id": 123456
      }
    ]
  },
  {
    "method": "delete",
    "data": [
      {
        "id": 27
      }
    ]
  }
]</code></pre>
</li>
</ul>
<hr />
<h3 id="response-format"><strong>Response Format</strong></h3>
<p>Responses are returned in JSON format. A typical response looks like this:</p>
<pre><code>{
    "success": true,
    "data": {
        "mapping": {
            "id": 29,
            "host": "dev5.dms.local",
            "path": "path",
            "attachment_id": 0,
            "custom_html": ""
        }
    }
}</code></pre>
<p><a href="rest-api/filters-and-actions.html">Filters and Actions</a></p>
                </article>
            </main>

            <!-- Right Sidebar: Table of Contents -->
            <aside class="sidebar sidebar-right">
                <nav class="toc" id="toc">
                    <h4>On This Page</h4><ul class="toc-list"><ul class="toc-sublist"><li class="toc-item toc-h3"><a href="#about-authentication-flow">About Authentication Flow</a></li><li class="toc-item toc-h3"><a href="#rest-api-documentation">Rest API Documentation</a></li><li class="toc-item toc-h3"><a href="#base-url">Base URL</a></li><li class="toc-item toc-h3"><a href="#authentication">Authentication</a></li><li class="toc-item toc-h3"><a href="#endpoints">Endpoints</a></li><li class="toc-item toc-h3"><a href="#1-mappings">1. Mappings</a></li><li class="toc-item toc-h3"><a href="#2-mapping-values">2. Mapping Values</a></li><li class="toc-item toc-h3"><a href="#3-batch-operations">3. Batch Operations</a></li><li class="toc-item toc-h3"><a href="#response-format">Response Format</a></li></ul></li></ul>
                </nav>
            </aside>
        </div>
    </div>

    <script>
        // Expose base path and assets path for JS modules
        window.DOCS_CONFIG = {
            basePath: '',
            assetsPath: '../../assets/',
            currentUrl: '/domain-mapping-system-docs/features/rest-api.html'
        };
    </script>
    <script src="../../assets/js/navigation.js"></script>
    <script src="../../assets/js/toc.js"></script>
    <script src="../../assets/js/search.js"></script>
</body>
</html>
